import Hamburger from '@/components/Hamburger'
import useGlobalContext from '@/hooks/useGlobalContext'
import getSiteMeta from '@/lib/getSiteMeta'
import Link from 'next/link'
import { useRouter } from 'next/router'

const defaultLinkCLass: string =
  'focus-8 focus-visible:outline-offset-[16px] relative z-10 font-bold uppercase text-white before:absolute before:left-1 before:right-1 before:-bottom-2 before:-z-10 before:h-0.5 before:origin-center before:translate-y-1 before:bg-white before:opacity-0 before:transition before:duration-200 before:content-[""] hover:before:translate-y-0 hover:before:opacity-100'
const currentLinkClass: string =
  'focus-8 focus-visible:outline-offset-[16px] relative z-10 font-bold uppercase text-white before:absolute before:left-1 before:right-1 before:-bottom-2 before:-z-10 before:h-0.5 before:bg-white before:content-[""]'

const Header = () => {
  const {
    navigation: { main: navigation },
  } = getSiteMeta
  const { visiblePageHeader } = useGlobalContext()
  const router = useRouter()
  const { pathname } = router

  return (
    <header
      className={`sticky top-0 z-40 flex items-center justify-between px-10 transition duration-200${
        visiblePageHeader ? ' bg-primary shadow-none' : ' bg-blue-800 shadow-lg'
      }`}
    >
      <figure>
        <Link href="/" className="focus-8 block text-4xl font-bold text-white">
          <svg
            className="w-80"
            viewBox="0 0 607 61"
            fill="currentColor"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M20.96 48.512C18.0587 48.512 15.52 47.872 13.344 46.592C11.168 45.312 9.46134 43.3706 8.224 40.768C7.02934 38.1226 6.432 34.7946 6.432 30.784C6.432 26.7306 7.008 23.4026 8.16 20.8C9.312 18.1973 10.976 16.256 13.152 14.976C15.328 13.696 17.9307 13.056 20.96 13.056C24.2027 13.056 27.104 13.8026 29.664 15.296C32.2667 16.7466 34.3147 18.7946 35.808 21.44C37.344 24.0853 38.112 27.2 38.112 30.784C38.112 34.4106 37.344 37.5466 35.808 40.192C34.3147 42.8373 32.2667 44.8853 29.664 46.336C27.104 47.7866 24.2027 48.512 20.96 48.512ZM0.608002 60.416V13.568H10.144V20.608L9.952 30.848L10.592 41.024V60.416H0.608002ZM19.232 40.32C20.896 40.32 22.368 39.936 23.648 39.168C24.9707 38.4 26.016 37.312 26.784 35.904C27.5947 34.4533 28 32.7466 28 30.784C28 28.7786 27.5947 27.072 26.784 25.664C26.016 24.256 24.9707 23.168 23.648 22.4C22.368 21.632 20.896 21.248 19.232 21.248C17.568 21.248 16.0747 21.632 14.752 22.4C13.4293 23.168 12.384 24.256 11.616 25.664C10.848 27.072 10.464 28.7786 10.464 30.784C10.464 32.7466 10.848 34.4533 11.616 35.904C12.384 37.312 13.4293 38.4 14.752 39.168C16.0747 39.936 17.568 40.32 19.232 40.32Z" />
            <path d="M44.7955 48V13.568H54.3315V23.296L52.9875 20.48C54.0115 18.048 55.6542 16.2133 57.9155 14.976C60.1768 13.696 62.9288 13.056 66.1715 13.056V22.272C65.7448 22.2293 65.3608 22.208 65.0195 22.208C64.6782 22.1653 64.3155 22.144 63.9315 22.144C61.2008 22.144 58.9822 22.9333 57.2755 24.512C55.6115 26.048 54.7795 28.4586 54.7795 31.744V48H44.7955Z" />
            <path d="M88.242 48.512C84.5727 48.512 81.3087 47.744 78.45 46.208C75.634 44.672 73.394 42.5813 71.73 39.936C70.1087 37.248 69.298 34.1973 69.298 30.784C69.298 27.328 70.1087 24.2773 71.73 21.632C73.394 18.944 75.634 16.8533 78.45 15.36C81.3087 13.824 84.5727 13.056 88.242 13.056C91.8687 13.056 95.1113 13.824 97.97 15.36C100.829 16.8533 103.069 18.9226 104.69 21.568C106.311 24.2133 107.122 27.2853 107.122 30.784C107.122 34.1973 106.311 37.248 104.69 39.936C103.069 42.5813 100.829 44.672 97.97 46.208C95.1113 47.744 91.8687 48.512 88.242 48.512ZM88.242 40.32C89.906 40.32 91.3993 39.936 92.722 39.168C94.0447 38.4 95.09 37.312 95.858 35.904C96.626 34.4533 97.01 32.7466 97.01 30.784C97.01 28.7786 96.626 27.072 95.858 25.664C95.09 24.256 94.0447 23.168 92.722 22.4C91.3993 21.632 89.906 21.248 88.242 21.248C86.578 21.248 85.0847 21.632 83.762 22.4C82.4393 23.168 81.3727 24.256 80.562 25.664C79.794 27.072 79.41 28.7786 79.41 30.784C79.41 32.7466 79.794 34.4533 80.562 35.904C81.3727 37.312 82.4393 38.4 83.762 39.168C85.0847 39.936 86.578 40.32 88.242 40.32Z" />
            <path d="M128.579 48.512C125.337 48.512 122.414 47.7866 119.812 46.336C117.209 44.8426 115.14 42.7733 113.604 40.128C112.11 37.4826 111.364 34.368 111.364 30.784C111.364 27.1573 112.11 24.0213 113.604 21.376C115.14 18.7306 117.209 16.6826 119.812 15.232C122.414 13.7813 125.337 13.056 128.579 13.056C131.481 13.056 134.019 13.696 136.195 14.976C138.371 16.256 140.057 18.1973 141.252 20.8C142.446 23.4026 143.044 26.7306 143.044 30.784C143.044 34.7946 142.468 38.1226 141.316 40.768C140.164 43.3706 138.5 45.312 136.324 46.592C134.19 47.872 131.609 48.512 128.579 48.512ZM130.307 40.32C131.929 40.32 133.401 39.936 134.723 39.168C136.046 38.4 137.091 37.312 137.859 35.904C138.67 34.4533 139.076 32.7466 139.076 30.784C139.076 28.7786 138.67 27.072 137.859 25.664C137.091 24.256 136.046 23.168 134.723 22.4C133.401 21.632 131.929 21.248 130.307 21.248C128.643 21.248 127.15 21.632 125.827 22.4C124.505 23.168 123.438 24.256 122.628 25.664C121.86 27.072 121.476 28.7786 121.476 30.784C121.476 32.7466 121.86 34.4533 122.628 35.904C123.438 37.312 124.505 38.4 125.827 39.168C127.15 39.936 128.643 40.32 130.307 40.32ZM139.331 48V40.96L139.523 30.72L138.883 20.544V0.511963H148.868V48H139.331Z" />
            <path d="M172.636 48.512C169.777 48.512 167.217 47.9573 164.956 46.848C162.737 45.7386 161.009 44.0533 159.772 41.792C158.535 39.488 157.916 36.5653 157.916 33.024V13.568H167.9V31.552C167.9 34.4106 168.497 36.5226 169.692 37.888C170.929 39.2106 172.657 39.872 174.876 39.872C176.412 39.872 177.777 39.552 178.972 38.912C180.167 38.2293 181.105 37.2053 181.788 35.84C182.471 34.432 182.812 32.6826 182.812 30.592V13.568H192.796V48H183.324V38.528L185.052 41.28C183.9 43.6693 182.193 45.4826 179.932 46.72C177.713 47.9146 175.281 48.512 172.636 48.512Z" />
            <path d="M210.301 40.96L210.557 28.8L226.622 13.568H238.525L223.102 29.248L217.917 33.472L210.301 40.96ZM202.046 48V0.511963H212.029V48H202.046ZM227.71 48L216.062 33.536L222.333 25.792L239.806 48H227.71Z" />
            <path d="M258.375 48.512C254.322 48.512 251.165 47.488 248.904 45.44C246.642 43.3493 245.512 40.256 245.512 36.16V5.95197H255.495V36.032C255.495 37.4826 255.879 38.6133 256.647 39.424C257.415 40.192 258.461 40.576 259.784 40.576C261.362 40.576 262.706 40.1493 263.815 39.296L266.504 46.336C265.48 47.0613 264.242 47.616 262.792 48C261.384 48.3413 259.911 48.512 258.375 48.512ZM240.2 22.016V14.336H264.072V22.016H240.2Z" />
            <path d="M275.835 60.928C274.043 60.928 272.272 60.6506 270.523 60.096C268.774 59.5413 267.344 58.7733 266.235 57.792L269.883 50.688C270.651 51.3706 271.526 51.904 272.507 52.288C273.531 52.672 274.534 52.864 275.515 52.864C276.923 52.864 278.032 52.5226 278.843 51.84C279.696 51.2 280.464 50.112 281.147 48.576L282.939 44.352L283.707 43.264L296.059 13.568H305.659L290.107 50.112C288.998 52.8853 287.718 55.0613 286.267 56.64C284.859 58.2186 283.28 59.328 281.531 59.968C279.824 60.608 277.926 60.928 275.835 60.928ZM281.723 49.344L266.363 13.568H276.667L288.571 42.368L281.723 49.344Z" />
            <path d="M316.73 48L304.314 13.568H313.722L324.026 43.2H319.546L330.298 13.568H338.746L349.178 43.2H344.698L355.322 13.568H364.154L351.674 48H342.01L332.858 22.592H335.802L326.33 48H316.73Z" />
            <path d="M389.724 13.056C392.454 13.056 394.886 13.6106 397.02 14.72C399.196 15.7866 400.902 17.4506 402.139 19.712C403.377 21.9306 403.996 24.7893 403.996 28.288V48H394.012V29.824C394.012 27.0506 393.393 25.0026 392.155 23.68C390.961 22.3573 389.254 21.696 387.035 21.696C385.457 21.696 384.027 22.0373 382.747 22.72C381.51 23.36 380.529 24.3626 379.803 25.728C379.121 27.0933 378.78 28.8426 378.78 30.976V48H368.796V13.568H378.332V23.104L376.539 20.224C377.777 17.92 379.548 16.1493 381.852 14.912C384.156 13.6746 386.78 13.056 389.724 13.056Z" />
            <path d="M416.772 60.928C414.98 60.928 413.21 60.6506 411.461 60.096C409.711 59.5413 408.282 58.7733 407.173 57.792L410.82 50.688C411.588 51.3706 412.463 51.904 413.444 52.288C414.468 52.672 415.471 52.864 416.453 52.864C417.861 52.864 418.97 52.5226 419.78 51.84C420.634 51.2 421.402 50.112 422.085 48.576L423.876 44.352L424.645 43.264L436.996 13.568H446.596L431.044 50.112C429.935 52.8853 428.655 55.0613 427.204 56.64C425.796 58.2186 424.218 59.328 422.469 59.968C420.762 60.608 418.863 60.928 416.772 60.928ZM422.66 49.344L407.301 13.568H417.604L429.509 42.368L422.66 49.344Z" />
            <path d="M452.384 48.512C450.677 48.512 449.205 47.936 447.968 46.784C446.773 45.5893 446.176 44.0746 446.176 42.24C446.176 40.4053 446.773 38.9333 447.968 37.824C449.205 36.672 450.677 36.096 452.384 36.096C454.133 36.096 455.605 36.672 456.8 37.824C457.995 38.9333 458.592 40.4053 458.592 42.24C458.592 44.0746 457.995 45.5893 456.8 46.784C455.605 47.936 454.133 48.512 452.384 48.512Z" />
            <path d="M485.71 48.512C482.681 48.512 480.078 47.872 477.902 46.592C475.726 45.312 474.062 43.3706 472.91 40.768C471.758 38.1226 471.182 34.7946 471.182 30.784C471.182 26.7306 471.779 23.4026 472.974 20.8C474.211 18.1973 475.918 16.256 478.094 14.976C480.27 13.696 482.809 13.056 485.71 13.056C488.953 13.056 491.854 13.7813 494.414 15.232C497.017 16.6826 499.065 18.7306 500.558 21.376C502.094 24.0213 502.862 27.1573 502.862 30.784C502.862 34.368 502.094 37.4826 500.558 40.128C499.065 42.7733 497.017 44.8426 494.414 46.336C491.854 47.7866 488.953 48.512 485.71 48.512ZM465.358 48V0.511963H475.342V20.544L474.702 30.72L474.894 40.96V48H465.358ZM483.982 40.32C485.646 40.32 487.118 39.936 488.398 39.168C489.721 38.4 490.766 37.312 491.534 35.904C492.345 34.4533 492.75 32.7466 492.75 30.784C492.75 28.7786 492.345 27.072 491.534 25.664C490.766 24.256 489.721 23.168 488.398 22.4C487.118 21.632 485.646 21.248 483.982 21.248C482.318 21.248 480.825 21.632 479.502 22.4C478.179 23.168 477.134 24.256 476.366 25.664C475.598 27.072 475.214 28.7786 475.214 30.784C475.214 32.7466 475.598 34.4533 476.366 35.904C477.134 37.312 478.179 38.4 479.502 39.168C480.825 39.936 482.318 40.32 483.982 40.32Z" />
            <path d="M509.546 48V0.511963H519.53V48H509.546Z" fill="white" />
            <path d="M545.179 48.512C541.51 48.512 538.246 47.744 535.387 46.208C532.571 44.672 530.332 42.5813 528.668 39.936C527.046 37.248 526.236 34.1973 526.236 30.784C526.236 27.328 527.046 24.2773 528.668 21.632C530.332 18.944 532.571 16.8533 535.387 15.36C538.246 13.824 541.51 13.056 545.179 13.056C548.806 13.056 552.049 13.824 554.908 15.36C557.766 16.8533 560.006 18.9226 561.628 21.568C563.249 24.2133 564.059 27.2853 564.059 30.784C564.059 34.1973 563.249 37.248 561.628 39.936C560.006 42.5813 557.766 44.672 554.908 46.208C552.049 47.744 548.806 48.512 545.179 48.512ZM545.179 40.32C546.843 40.32 548.337 39.936 549.66 39.168C550.982 38.4 552.028 37.312 552.796 35.904C553.564 34.4533 553.947 32.7466 553.947 30.784C553.947 28.7786 553.564 27.072 552.796 25.664C552.028 24.256 550.982 23.168 549.66 22.4C548.337 21.632 546.843 21.248 545.179 21.248C543.515 21.248 542.022 21.632 540.699 22.4C539.377 23.168 538.31 24.256 537.499 25.664C536.731 27.072 536.348 28.7786 536.348 30.784C536.348 32.7466 536.731 34.4533 537.499 35.904C538.31 37.312 539.377 38.4 540.699 39.168C542.022 39.936 543.515 40.32 545.179 40.32Z" />
            <path d="M586.925 60.928C583.682 60.928 580.546 60.5226 577.517 59.712C574.53 58.944 572.034 57.7706 570.029 56.192L573.997 49.024C575.448 50.2186 577.282 51.1573 579.501 51.84C581.762 52.5653 583.981 52.928 586.157 52.928C589.698 52.928 592.258 52.1386 593.837 50.56C595.458 48.9813 596.269 46.6346 596.269 43.52V38.336L596.909 29.696L596.781 20.992V13.568H606.253V42.24C606.253 48.64 604.589 53.3546 601.261 56.384C597.933 59.4133 593.154 60.928 586.925 60.928ZM585.389 46.336C582.189 46.336 579.288 45.6533 576.685 44.288C574.125 42.88 572.056 40.9386 570.477 38.464C568.941 35.9466 568.173 33.024 568.173 29.696C568.173 26.3253 568.941 23.4026 570.477 20.928C572.056 18.4106 574.125 16.4693 576.685 15.104C579.288 13.7386 582.189 13.056 585.389 13.056C588.29 13.056 590.85 13.6533 593.069 14.848C595.288 16 597.016 17.8133 598.253 20.288C599.49 22.72 600.109 25.856 600.109 29.696C600.109 33.4933 599.49 36.6293 598.253 39.104C597.016 41.536 595.288 43.3493 593.069 44.544C590.85 45.7386 588.29 46.336 585.389 46.336ZM587.373 38.144C589.122 38.144 590.68 37.8026 592.045 37.12C593.41 36.3946 594.477 35.392 595.245 34.112C596.013 32.832 596.397 31.36 596.397 29.696C596.397 27.9893 596.013 26.5173 595.245 25.28C594.477 24 593.41 23.0186 592.045 22.336C590.68 21.6106 589.122 21.248 587.373 21.248C585.624 21.248 584.066 21.6106 582.701 22.336C581.336 23.0186 580.248 24 579.437 25.28C578.669 26.5173 578.285 27.9893 578.285 29.696C578.285 31.36 578.669 32.832 579.437 34.112C580.248 35.392 581.336 36.3946 582.701 37.12C584.066 37.8026 585.624 38.144 587.373 38.144Z" />
          </svg>
        </Link>
      </figure>

      {navigation && (
        <nav className="hidden md:block">
          <ul className="flex space-x-10">
            {navigation.map((link, index) => {
              const { path, name } = link

              return (
                <li key={index}>
                  <Link href={path} className={pathname === path ? currentLinkClass : defaultLinkCLass}>
                    {name}
                  </Link>
                </li>
              )
            })}
          </ul>
        </nav>
      )}
      <Hamburger />
    </header>
  )
}

export default Header
